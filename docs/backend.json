
{
  "entities": {
    "user": {
      "title": "User",
      "description": "Represents a user of the application.",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The unique ID of the user."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoURL": {
            "type": "string",
            "format": "uri",
            "description": "The URL of the user's profile picture."
        },
        "plan": {
            "type": "string",
            "description": "The user's subscription plan.",
            "enum": ["Basic", "Monthly", "Yearly"],
            "default": "Basic"
        },
        "height": {
          "type": "number",
          "description": "The user's height in centimeters."
        },
        "weight": {
          "type": "number",
          "description": "The user's body weight in kilograms."
        },
        "age": {
          "type": "number",
          "description": "The user's age in years."
        },
        "gender": {
          "type": "string",
          "description": "The user's gender.",
          "enum": ["Male", "Female", "Other"]
        },
        "activityLevel": {
          "type": "string",
          "description": "The user's physical activity level.",
          "enum": ["Sedentary", "Lightly active", "Moderately active", "Very active", "Extra active"]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user was created."
        }
      },
      "required": ["uid", "email", "plan", "createdAt"]
    },
    "dailyLog": {
      "title": "Daily Log",
      "description": "A user's daily log of food and mood.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user ID this log belongs to."
        },
        "date": {
          "type": "string",
          "format": "date",
          "description": "The date of the log in YYYY-MM-DD format."
        },
        "foods": {
          "type": "array",
          "description": "An array of logged food items with quantities.",
          "items": {
            "type": "object",
            "properties": {
              "foodId": {
                "type": "string",
                "description": "A reference to the food item in the global foods collection."
              },
              "quantity": {
                "type": "number",
                "description": "The quantity of the food item consumed."
              }
            },
            "required": ["foodId", "quantity"]
          }
        },
        "mood": {
          "type": "string",
          "description": "The user's mood for the day.",
          "enum": ["Happy", "Neutral", "Sad", "Energetic", "Tired"]
        }
      },
      "required": ["userId", "date"]
    },
    "food": {
      "title": "Food",
      "description": "Represents a food item in the global collection.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the food item."
        },
        "lastAddedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the food was last added."
        },
        "description": {
          "type": "string",
          "description": "A short description of the food item."
        },
        "portion": {
          "type": "number",
          "description": "The typical portion size in grams."
        },
        "calories": {
          "type": "number",
          "description": "Calories per portion."
        },
        "carbs": {
          "type": "number",
          "description": "Grams of carbohydrates per portion."
        },
        "proteins": {
          "type": "number",
          "description": "Grams of protein per portion."
        },
        "fats": {
          "type": "number",
          "description": "Grams of fat per portion."
        },
        "icon": {
          "type": "string",
          "description": "The name of a lucide-react icon."
        }
      },
      "required": ["name", "lastAddedAt"]
    },
    "feedback": {
      "title": "Feedback",
      "description": "User feedback and rating for the application.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user providing feedback."
        },
        "rating": {
          "type": "number",
          "description": "A star rating from 1 to 5."
        },
        "text": {
          "type": "string",
          "description": "The user's written feedback."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the feedback was submitted."
        }
      },
      "required": ["userId", "rating", "createdAt"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/user" },
      "description": "Stores user profile information."
    },
    "/users/{userId}/dailyLogs/{logId}": {
      "schema": { "$ref": "#/entities/dailyLog" },
      "description": "Stores daily logs for each user. The logId is the date in YYYY-MM-DD format."
    },
    "/foods/{foodId}": {
      "schema": { "$ref": "#/entities/food" },
      "description": "Global collection of all unique food items."
    },
    "/feedback/{feedbackId}": {
      "schema": { "$ref": "#/entities/feedback" },
      "description": "Stores user feedback submissions."
    }
  }
}
